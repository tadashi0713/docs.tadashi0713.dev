---
title: Docker Offload の概要
description: Docker Offload、その機能、および仕組みについて学びましょう。
---

# Docker Offload の概要

Docker Offload は、Docker Desktop、Docker CLI、Docker Compose といった既存の Docker ツールを使ってクラウド上でコンテナをビルド・実行できる フルマネージドサービス です。
ローカル開発のワークフローを拡張し、スケーラブルなクラウド環境で活用することで、計算負荷の高いタスクをオフロードし、ビルドを高速化し、ソフトウェアライフサイクル全体にわたってコンテナワークロードを安全に管理できます。

また Docker Offload は GPU アクセラレーション対応インスタンス もサポートしており、Docker Model Runner をはじめ、機械学習や GPU による性能向上が必要なデータ処理タスクなど、計算負荷の高いワークロードをコンテナ化して実行できます。

## 主な機能

Docker Offload には、最新のコンテナワークフローを支援するための次の機能が含まれています：

- クラウドベースのビルド: リモートのフルマネージド BuildKit インスタンスでビルドを実行

- GPU アクセラレーション: NVIDIA L4 GPU 搭載環境を利用して、機械学習、メディア処理、その他の計算負荷の高いワークロードを実行

- エフェメラルクラウドランナー: 各コンテナセッションに対してクラウド環境を自動的にプロビジョニングし、終了後に破棄

- 共有ビルドキャッシュ: 賢い共有キャッシュレイヤーにより、マシンやチームメンバー間でのビルド時間を短縮

- ハイブリッドワークフロー: Docker Desktop または CLI を使って、ローカル実行とリモート実行をシームレスに切り替え

- セキュアな通信: Docker Desktop とクラウド環境間で暗号化トンネルを使用し、安全なシークレット管理やイメージの pull に対応

- ポートフォワーディングとバインドマウント: クラウドでコンテナを実行しても、ローカル開発体験を維持

- VDI 対応: ネストされた仮想化をサポートしないシステムや仮想デスクトップ環境でも Docker Offload を利用可能

## なぜ Docker Offload を使うのか？

Docker Offload は、ローカルとクラウド環境をまたいで作業する現代の開発チームを支援するように設計されています。これにより次のことが可能になります：

- 計算負荷の高いビルドや実行を、高速かつスケーラブルなインフラにオフロード

- 開発やテストにおけるフィードバックループを加速

- ローカル環境ではリソース不足となるコンテナを実行

- GPU 搭載環境へ即座にアクセスして AI アプリをビルド・実行

- Docker Compose を使って、クラウドリソースを必要とする複雑なマルチサービスアプリを管理

- カスタムインフラを管理することなく、一貫した環境を維持

- VDI など制約のある環境や低スペック環境でも効率的に開発

Docker Offload は、ローカルツールのシンプルさを損なうことなく、クラウドの柔軟性を必要とする高速な開発ワークフローに最適です。

## Docker Offload の仕組み

Docker Offload は、Docker Desktop をセキュアで専用のクラウドリソースに接続することで、ローカルでコンテナをビルド・実行する必要を置き換えます。

### Docker Offload でのビルド

Docker Offload を利用してビルドすると、`docker buildx build` コマンドはローカルで実行される代わりに、クラウド上のリモート BuildKit インスタンスへビルドリクエストを送信します。
ワークフローはそのまま維持され、変わるのは実行環境だけです。

ビルドは Docker によってプロビジョニングおよび管理されるインフラ上で実行されます：

- 各クラウドビルダーは専用の EBS ボリュームを持つ独立した Amazon EC2 インスタンス

- リモートビルダーは共有キャッシュを使用し、マシンやチーム間でビルドを高速化

- ビルド結果は転送時に暗号化され、指定した宛先（レジストリやローカルイメージストアなど）に送信

Docker Offload はビルダーのライフサイクルを自動的に管理するため、インフラを用意したり維持したりする必要はありません。

> [!NOTE]
>
> 現在、Docker Offload ビルダーは米国東部リージョンでホストされています。他のリージョンのユーザーはレイテンシの増加を経験する可能性があります。

### Docker Offload でのコンテナ実行

Docker Offload を利用してコンテナを実行すると、Docker Desktop はクラウド上で稼働する Docker デーモンに対してセキュアな SSH トンネルを作成します。
コンテナはそのリモート環境内で完全に起動・管理されます。

具体的な流れ：

1. Docker Desktop がクラウドに接続し、コンテナ作成をトリガー

2. Docker Offload が必要なイメージを pull し、クラウド上でコンテナを起動

3. コンテナが稼働している間、接続は開いたまま維持

4. コンテナが停止すると、環境は自動的にシャットダウンされ、クリーンアップされる

この仕組みにより、ローカルでコンテナを実行する際のオーバーヘッドを回避でき、仮想デスクトップ、クラウド開発環境、古いハードウェアなど 低スペック環境でも高速で信頼性の高いコンテナ実行が可能になります。

また、Docker Offload は GPU アクセラレーションを必要とするワークロードにも対応しています。
GPU アクセスが必要なコンテナは NVIDIA L4 GPU を搭載したクラウドインスタンスで実行され、効率的な AI 推論、メディア処理、汎用 GPU アクセラレーションが可能です。
これにより、モデル評価、画像処理、ハードウェアアクセラレーションを利用した CI テストなど、計算負荷の高いワークフローをクラウド上でシームレスに実行できます。

リモートで実行されていても、バインドマウントやポートフォワーディングといった機能はシームレスに動作し、Docker Desktop や CLI からローカルに近い体験を提供します。

Docker Offload はセッションごとに一時的なクラウド環境をプロビジョニングします。
環境は Docker Desktop を操作している間やコンテナを使用している間はアクティブなまま維持されます。
約 5 分間アクティビティが検出されないと、セッションは自動的にシャットダウンされます。
このとき、その環境内のコンテナ、イメージ、ボリュームはセッション終了とともに削除されます。

## 次のステップ

[Docker Offload クイックスタート](/offload/quickstart/) に従って、Docker Offload を実際に体験してみましょう。
