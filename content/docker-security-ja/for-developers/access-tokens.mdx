---
title: アクセストークンの作成と管理
description: イメージを安全にプッシュおよびプルするために、Docker のパーソナルアクセストークンを作成および管理する方法を学びます。
---

# アクセストークンの作成と管理

Docker CLI の認証において、パスワードの代替としてパーソナルアクセストークン（PAT）を作成できます。

パスワードと比較した PAT の利点:

- PAT の最終使用時刻を確認でき、不審なアクティビティを発見した場合は無効化または削除できます。

- PAT を使用する場合、アカウントの管理操作（パスワード変更など）はできません。これにより、コンピュータが侵害された場合でもアカウントが保護されます。

- 各統合用に異なるトークンを発行し、必要に応じて個別に取り消すことができるため、統合の構築に役立ちます。

## アクセストークンの作成

> [!IMPORTANT]
> 
> アクセストークンはパスワードと同様に慎重に扱い、秘密にしてください。
> 例として、クレデンシャルマネージャーに安全に保管してください。

Docker Admin Console を使用してアクセストークンを作成できます。

1. [Docker アカウント](https://app.docker.com/login) にサインインします。

2. 右上のアバターを選択し、ドロップダウンメニューから **Account settings** を選択します。

3. **Personal access tokens** を選択します。

4. **Generate new token** を選択します。

5. トークンの用途を示す説明を追加します。

6. トークンの有効期限を設定します。

7. アクセス権限を設定します。

    例: 「Read & Write」権限を設定すると、オートメーションパイプラインでイメージをビルドし、リポジトリにプッシュできます。ただし、リポジトリの削除はできません。

8. **Generate** を選択するとトークンが表示されます。この画面を閉じると再取得できないため、必ずコピーして保存してください。

## アクセストークンの使用

Docker CLI でサインインする際に、パスワードの代わりにアクセストークンを使用できます。

以下のコマンドを実行し、`YOUR_USERNAME` を Docker ID に置き換えてください。

```console
$ docker login --username <YOUR_USERNAME>
```

パスワードの入力を求められたら、パスワードの代わりに PAT を入力してください。

> [!NOTE]
>
> [二要素認証（2FA）](/docker-security-ja/for-developers/2fa) を有効にしている場合、Docker CLI でのログインには PAT の使用が必須となります。
> 2FA はオプションですが、より安全な認証方法です。

## 公正な利用（Fair use）

PAT の過剰な作成は、スロットリング（制限）や追加料金の対象となる可能性があります。

Docker はリソースの適正利用を確保するため、PAT の過剰利用が見られるアカウントに対して制限を課したり、追加料金を適用する権利を有します。

## 既存のトークンの変更

> [!NOTE]
>
> 既存のトークンの有効期限を変更することはできません。
> 新しい有効期限を設定するには、新しい PAT を作成してください。

アカウント設定でトークンの名称変更、有効化・無効化、削除を行えます。

1. [Docker アカウント](https://app.docker.com/login) にサインインします。

2. 右上のアバターを選択し、ドロップダウンメニューから **Account settings** を選択します。

3. **Personal access tokens** を選択します。

    - ここでは、手動で生成されたトークンや[自動生成トークン](#自動生成トークンauto-generated-tokens)の一覧が確認できます。
    - トークンのスコープ（権限）、有効・無効の状態、作成日時、最終使用日時、有効期限も確認できます。

4. トークンの右側にあるアクションメニューを開き、**Deactivate（無効化）**、**Activate（有効化）**、**Edit（編集）**、**Delete（削除）** から選択します。

5. 編集後、**Save token** を選択して保存します。

## 自動生成トークン（Auto-generated tokens）

Docker Desktop にサインインすると、自動的に認証トークンが生成されます。

Docker CLI を使用して Docker Hub にアクセスする際、このトークンが認証に使用されます。

このトークンのスコープには「Read、Write、Delete」の権限があります。

Docker Desktop のセッションが期限切れになると、ローカルのトークンは自動的に削除されます。

- 1 つのアカウントに最大 5 つの自動生成トークンを関連付けることができます。

- これらのトークンは、使用状況と作成日を基に自動的に削除・生成されます。

- 必要に応じて、自動生成トークンを削除できます。詳細は[既存のトークンの変更](#既存のトークンの変更)を参照してください。
