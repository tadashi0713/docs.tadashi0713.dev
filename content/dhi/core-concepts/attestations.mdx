---
title: アテステーション
description: 各 Docker Hardened Image に含まれる署名付きアテステーション（SBOM、VEX、ビルドプロビナンス、スキャン結果など）の全体像を確認しましょう。
---

# アテステーション

Docker Hardened Images（DHI）には、イメージのビルドプロセス、内容、セキュリティ状態を検証するための包括的かつ署名付きのセキュリティアテステーションが含まれています。

これらのアテステーションは、セキュアなソフトウェアサプライチェーンの実践における中核的要素であり、イメージの信頼性やポリシー準拠性をユーザーが検証するための手段となります。

## アテステーションとは？

アテステーション（attestation）とは、イメージに関する情報（ビルド方法、構成内容、実施済みのセキュリティチェックなど）を記載した検証可能な署名付きの証明文書です。

これらは通常、Sigstore のツール（例：Cosign）を使用して署名されており、改ざんの痕跡が分かる仕組み（改ざん検知性）と暗号学的な検証可能性を備えています。

アテステーションは、[in-toto](https://in-toto.io/)、[CycloneDX](https://cyclonedx.org/)、[SLSA](https://slsa.dev/) などの標準フォーマットに従い、OCI 準拠のメタデータとしてイメージに添付されます。

これらはイメージのビルド時に自動生成されることもあれば、追加のテスト結果、スキャン結果、独自のプロビナンス情報などを記録するために手動で付与されることもあります。

## なぜアテステーションが重要なのか？

アテステーションは、ソフトウェアサプライチェーンにおける重要な可視性を提供し、以下の点で価値を発揮します:

- **イメージに何が含まれているか**を記録（例：SBOM［ソフトウェア部品表］）

- **どのようにビルドされたか**を検証（例：ビルドプロビナンス）

- **どのセキュリティスキャンを通過・失敗したか**を記録（例：CVE レポート、シークレットスキャン、テスト結果など）

- 組織が セキュリティおよびコンプライアンスポリシーを適用するための支援

- ランタイムにおける 信頼判断や CI/CD のポリシーゲートをサポート

アテステーションは、SLSA（Supply-chain Levels for Software Artifacts）などの業界標準の要件を満たすために不可欠であり、ビルドとセキュリティに関する情報を透明かつ検証可能にすることで、サプライチェーン攻撃のリスクを低減するのに役立ちます。

## Docker Hardened Images におけるアテステーションの活用

すべての Docker Hardened Images（DHI）は、[SLSA Build Level 3]((https://slsa.dev/spec/latest/levels)) に準拠した手法でビルドされており、各イメージバリアントには署名付きアテステーションの完全なセットが付属しています。

これらのアテステーションにより、ユーザーは以下を行うことができます：

- イメージが信頼されたソースからセキュアな環境でビルドされたことを検証

- 複数形式の SBOM を閲覧し、コンポーネント単位の詳細情報を把握

- 脆弱性や埋め込まれたシークレットの有無など、スキャン結果の確認

- 各イメージのビルドおよびデプロイ履歴を検証

アテステーションは、Docker Hub 上で Organization にミラーリングされた各 DHI に対して自動的に公開・関連付けされます。

[Docker Scout](/dhi/how-to/verify) や [Cosign](https://docs.sigstore.dev/cosign/overview) のようなツールを使って確認でき、CI/CD ツールチェーンやセキュリティプラットフォームでも活用可能です。

## 利用可能なアテステーション

すべての DHI バリアントにはアテステーションのセットが含まれていますが、含まれる内容はバリアントによって異なる場合があります。

たとえば、一部のイメージには STIG スキャンのアテステーションが含まれていることがあります。

以下の表には、DHI に含まれる可能性のあるすべてのアテステーションの一覧が示されています。

特定のイメージバリアントにどのアテステーションが含まれているかを確認したい場合は、[イメージバリアントの詳細を確認する](/dhi/how-to/explore#イメージバリアントの詳細を確認する)を参照してください（Docker Hub 上で確認可能です）。

| アテステーションの種類 | 説明                                                                                                                                             | Predicate type URI                                 |
|--------------------|--------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------|
| CycloneDX SBOM     | [CycloneDX](https://cyclonedx.org/) 形式のソフトウェア部品表（SBOM）。コンポーネント、ライブラリ、バージョンの一覧が含まれます。                                | `https://cyclonedx.org/bom/v1.5`                  |
| STIG スキャン       | STIG スキャンの結果。HTML および XCCDF 形式で出力されます。                                                                                             | `https://docker.com/dhi/stig/v0.1`                |
| CVE（In-Toto 形式） | パッケージおよびディストリビューションのスキャンに基づく、既知の脆弱性（CVE）の一覧。                                                                          | `https://in-toto.io/attestation/vulns/v0.1`       |
| VEX                | [Vulnerability Exploitability eXchange (VEX)](https://openvex.dev/) ドキュメント。イメージに影響しない脆弱性とその理由（到達不可、未含有など）を明示します。    | `https://openvex.dev/ns/v0.2.0`                   |
| Scout ヘルススコア   | イメージのセキュリティおよび品質状態を要約した Docker Scout による署名付きアテステーション。                                                                  | `https://scout.docker.com/health/v0.1`            |
| Scout プロビナンス   | Git コミット、ビルドパラメータ、ビルド環境の情報を含む Docker Scout によって生成されたプロビナンスメタデータ。                                                  | `https://scout.docker.com/provenance/v0.1`        |
| Scout SBOM         | Docker 固有のメタデータを含んだ、Docker Scout によって生成・署名された SBOM。                                                                            | `https://scout.docker.com/sbom/v0.1`              |
| シークレットスキャン  | 誤って含まれている可能性のある資格情報、トークン、秘密鍵などを検出するスキャンの結果。                                                                         | `https://scout.docker.com/secrets/v0.1`           |
| テスト              | 機能チェックやバリデーションスクリプトなど、イメージに対して実行された自動テストの記録。                                                                       | `https://scout.docker.com/tests/v0.1`             |
| ウイルススキャン      | イメージレイヤーに対して実行されたウイルススキャンの結果。                                                                                                | `https://scout.docker.com/virus/v0.1`             |
| CVE（Scout 形式）   | Docker Scout によって生成された脆弱性レポート。既知の CVE とその深刻度データを含みます。                                                                     | `https://scout.docker.com/vulnerabilities/v0.1`   |
| SLSA プロビナンス    | 使用されたビルドツール、パラメータ、ソースなどを含む、[SLSA](https://slsa.dev/) 標準に基づくビルドプロビナンスステートメント。                                   | `https://slsa.dev/provenance/v0.2`                |
| SLSA 検証サマリー    | イメージが SLSA 要件に準拠していることを示すサマリーアテステーション。                                                                                     | `https://slsa.dev/verification_summary/v1`        |
| SPDX SBOM          | オープンソースエコシステムで広く採用されている [SPDX](https://spdx.dev/) 形式の SBOM。                                                                   | `https://spdx.dev/Document`                       |
| FIPS compliance    | イメージが FIPS 140 検証済みの暗号モジュールを使用していることを確認するアテステーション。                                                                   | `https://docker.com/dhi/fips/v0.1`                |

## アテステーションを表示・検証する

特定のイメージに対するアテステーションを表示・検証するには、[Docker Hardened Image を検証する](/dhi/how-to/verify) をご覧ください。

## 独自のアテステーションを追加する

Docker Hardened Images に含まれる包括的なアテステーションに加えて、派生イメージをビルドする際に独自の署名付きアテステーションを追加することも可能です。

特に、DHI をベースに新しいアプリケーションを構築する場合には、透明性、トレーサビリティ、信頼性を維持するために有効です。

SBOM、ビルドプロビナンス、カスタムメタデータなどのアテステーションを付与することで:

- コンプライアンス要件の達成

- セキュリティ監査の通過

- Docker Scout のようなポリシー評価ツールとの連携

といった目的に対応できます。

これらのアテステーションは、Cosign や Docker Scout などのツールで後続プロセスにおいて検証可能です。

独自アテステーションをビルド時に付与する方法については、[Build attestations](https://docs.docker.com/build/metadata/attestations/) をご覧ください。
